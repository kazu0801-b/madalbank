# メダルバンク UI設計書

## 1. プロジェクト概要

**目的**  
ゲームセンター利用者がメダルの貯金・払い出しを簡単に行えるWebアプリケーション

**ターゲットユーザー**  
ゲームセンターを利用する一般ユーザー（年齢層問わず）

**対象デバイス**  
スマートフォン（縦向き表示に最適化）

**デザインコンセプト**  
シンプル・分かりやすい・直感的操作

## 2. 基本機能要件

### 認証機能
- **ログイン**: ID・パスワード認証
- **セッション管理**: 自動ログアウト機能

### 基本機能
- **貯金**: メダルの預け入れ
- **払い出し**: メダルの引き出し  
- **スランプグラフ**: 収支の可視化

### 追加機能
- **残高表示**: リアルタイム残高更新
- **履歴確認**: 取引履歴の表示
- **使用店舗名**: 取引場所の記録
- **使用期限表示**: メダル有効期限の通知

## 3. 設計原則
1. **シンプルさ**: 複雑な操作を避け、ワンタップで操作完了
2. **視認性**: 大きな文字とボタンで誰でも見やすく
3. **スマホ最適化**: 縦向き画面での快適な操作
4. **直感的操作**: アイコンと文字で分かりやすい表示

## 4. 画面構成・遷移図

```
[ログイン画面]
    ↓
[ホーム画面（メニュー）]
    ├─ [貯金画面] ──→ [完了画面]
    ├─ [払い出し画面] ──→ [完了画面]  
    ├─ [残高確認画面]
    ├─ [履歴画面]
    └─ [グラフ画面]
```

## 5. 技術仕様
- **フレームワーク**: Next.js 15 (App Router)
- **スタイリング**: Tailwind CSS
- **コンポーネント設計**: Atomic Design Pattern
- **言語**: TypeScript
- **対象解像度**: 375px〜414px（iPhone基準）

## 6. 画面設計詳細（スマートフォン縦向け）

### 1. ログイン画面
```
+------------------------+
|    メダルバンク        |
|      ログイン          |
+------------------------+
|                        |
|     [🏪] アイコン      |
|                        |
|   ┌──────────────────┐ |
|   │ ID入力           │ |
|   └──────────────────┘ |
|                        |
|   ┌──────────────────┐ |
|   │ パスワード       │ |
|   └──────────────────┘ |
|                        |
|   ┌──────────────────┐ |
|   │    ログイン      │ |
|   └──────────────────┘ |
|                        |
|    自動ログアウト:     |
|      30分後            |
+------------------------+
```

### 2. ホーム画面（メニュー）
```
+------------------------+
| メダルバンク    [ログアウト] |
+------------------------+
|                        |
|   現在の残高           |
|  💰 2,450メダル       |
|                        |
|  📅 使用期限: 30日後   |
|  🏪 店舗: ○○ゲーセン  |
+------------------------+
| ┌──────────────────┐   |
| │ 💰 貯金する      │   |
| └──────────────────┘   |
|                        |
| ┌──────────────────┐   |
| │ 💸 払い出す      │   |
| └──────────────────┘   |
|                        |
| ┌──────────────────┐   |
| │ 📊 グラフを見る  │   |
| └──────────────────┘   |
|                        |
| ┌──────────────────┐   |
| │ 📝 履歴を確認    │   |
| └──────────────────┘   |
+------------------------+
```

### 3. 貯金画面
```
+------------------------+
| 貯金する        [戻る] |
+------------------------+
|                        |
|   現在の残高           |
|   2,450メダル          |
|                        |
|   貯金するメダル数     |
|  ┌──────────────────┐ |
|  │     100            │ |
|  └──────────────────┘ |
|                        |
|  [+1] [+10] [+100]     |
|  [-1] [-10] [-100]     |
|                        |
|  ┌──────────────────┐ |
|  │   貯金実行       │ |
|  └──────────────────┘ |
|                        |
|  🏪 店舗: ○○ゲーセン  |
+------------------------+
```

### 4. 払い出し画面
```
+------------------------+
| 払い出し        [戻る] |
+------------------------+
|                        |
|   現在の残高           |
|   2,450メダル          |
|                        |
|   払い出すメダル数     |
|  ┌──────────────────┐ |
|  │     200            │ |
|  └──────────────────┘ |
|                        |
|  [+1] [+10] [+100]     |
|  [-1] [-10] [-100]     |
|                        |
|  ┌──────────────────┐ |
|  │  払い出し実行    │ |
|  └──────────────────┘ |
|                        |
|  🏪 店舗: ○○ゲーセン  |
+------------------------+
```

### 5. 完了画面
```
+------------------------+
|     処理完了           |
+------------------------+
|                        |
|       ✅               |
|                        |
|   貯金が完了しました   |
|                        |
|   貯金額: 100メダル    |
|   新残高: 2,550メダル  |
|                        |
|   処理時刻:            |
|   2024/01/15 14:30     |
|                        |
|  ┌──────────────────┐ |
|  │  ホームに戻る    │ |
|  └──────────────────┘ |
+------------------------+
```

### 6. グラフ画面（スランプグラフ）
```
+------------------------+
| 収支グラフ      [戻る] |
+------------------------+
|                        |
|  📊 月間収支推移       |
|                        |
|   3000 ┌──────────┐    |
|        │    ╭─    │    |
|   2000 │  ╭─╯     │    |
|        │ ╱        │    |
|   1000 │╱         │    |
|        └──────────┘    |
|        1月  2月  3月   |
|                        |
|  💰 今月: +500メダル   |
|  📈 前月比: +20%       |
|                        |
|  [週間] [月間] [年間]  |
+------------------------+
```

### 7. 履歴画面
```
+------------------------+
| 取引履歴        [戻る] |
+------------------------+
| 2024/01/15             |
| ┌──────────────────┐   |
| │ 14:30 払い出し   │   |
| │ -200メダル       │   |
| │ 🏪○○ゲーセン     │   |
| └──────────────────┘   |
|                        |
| 2024/01/15             |
| ┌──────────────────┐   |
| │ 13:15 貯金       │   |
| │ +300メダル       │   |
| │ 🏪○○ゲーセン     │   |
| └──────────────────┘   |
|                        |
| 2024/01/14             |
| ┌──────────────────┐   |
| │ 19:45 払い出し   │   |
| │ -150メダル       │   |
| │ 🏪△△ゲーセン     │   |
| └──────────────────┘   |
+------------------------+
```

## 7. デザインシステム

### カラーパレット
```
プライマリカラー（アクションボタン）
├─ メイン: #2563EB （青）
├─ ホバー: #1D4ED8 （濃い青）
└─ ライト: #DBEAFE （薄い青）

背景色
├─ メイン背景: #FFFFFF （白）
├─ カード背景: #F9FAFB （薄いグレー）
└─ ボーダー: #E5E7EB （グレー）

ステータスカラー  
├─ 成功: #10B981 （緑）- 貯金・完了
├─ 警告: #F59E0B （オレンジ）- 期限間近
├─ エラー: #EF4444 （赤）- 残高不足
└─ 情報: #3B82F6 （青）- 一般情報
```

### タイポグラフィ（スマホ最適化）
```
見出し
├─ ページタイトル: 24px - font-bold （太字）
├─ セクション: 20px - font-semibold （中太）
└─ カードタイトル: 18px - font-medium

本文・数値
├─ 残高表示: 24px - font-bold （大きく）
├─ ボタンテキスト: 18px - font-medium
├─ 通常テキスト: 16px - font-normal
└─ 補助テキスト: 14px - font-normal
```

### ボタンサイズ（タッチ最適化）
```
メインボタン
├─ 幅: 90%（画面幅の90%）
├─ 高さ: 48px
├─ 角丸: 8px
└─ 余白: 上下8px

数値調整ボタン
├─ 幅: 60px  
├─ 高さ: 40px
├─ 角丸: 6px
└─ 横並び配置
```

## 8. ユーザビリティ設計

### タッチインターフェース最適化
```
ボタンの最小サイズ: 44px × 44px（Apple推奨）
タップ領域の確保: 周囲に8px以上の余白
フィードバック: タップ時の視覚的反応

数値入力の工夫
├─ 大きな入力フィールド（48px高）
├─ +/-ボタンで素早い調整
├─ 定額ボタン（+100, +1000など）
└─ テンキー表示対応
```

### エラー防止機能
```
入力制限
├─ 残高を超える払い出しを制限
├─ マイナス値の入力を無効化
├─ 最大桁数の制限（999,999メダル）
└─ 非数値文字の自動除去

確認機能
├─ 大きな金額（1000メダル以上）で確認画面表示
├─ 取引内容の最終確認
└─ 実行後のすぐに取り消し機能（30秒間）
```

### アクセシビリティ対応
```
視覚的配慮
├─ 高コントラスト設計（4.5:1以上）
├─ アイコンと文字の併記
├─ 重要情報の強調表示
└─ 色だけに依存しない情報伝達

操作の簡素化  
├─ シンプルな画面遷移
├─ 戻るボタンの統一配置
├─ メインボタンの明確な配置
└─ 直感的なアイコン使用
```

## 9. 技術的考慮事項

### パフォーマンス最適化
```
ロード時間短縮
├─ 画像の最適化（WebP形式）
├─ JavaScript コード分割
├─ CSS の最小化
└─ キャッシュ活用

レスポンス性向上
├─ ローディング表示（0.5秒以上の処理）
├─ プリローダーの表示
├─ 楽観的UI更新
└─ オフライン対応（基本機能）
```

### セキュリティ設計
```
クライアントサイド
├─ 入力値検証（JavaScript）
├─ XSS対策（エスケープ処理）
├─ セッション管理（自動ログアウト）
└─ 通信の暗号化（HTTPS）

サーバーサイド  
├─ 認証トークンの管理
├─ API レート制限
├─ 入力値の再検証
└─ ログ監視
```

## 10. 実装ロードマップ

### Phase 1: 基本機能（完了済み）
- ✅ ログイン・認証機能
- ✅ 基本的なUI コンポーネント
- ✅ レスポンシブ対応

### Phase 2: コア機能（開発予定）
- 📋 貯金・払い出し機能の実装
- 📋 残高表示・更新機能
- 📋 取引履歴の保存・表示
- 📋 店舗情報の管理

### Phase 3: 拡張機能（将来予定）
- 📋 スランプグラフの実装
- 📋 期限管理・通知機能
- 📋 統計・分析機能
- 📋 データエクスポート機能

### Phase 4: 運用最適化（将来予定）
- 📋 パフォーマンス監視
- 📋 ユーザビリティテスト
- 📋 A/Bテスト環境
- 📋 アクセシビリティ監査

---

## 11. 特記事項

### ゲームセンター特有の要件
- 高速な取引処理（数秒以内）
- 大きなボタンサイズ（手袋着用時も操作可能）
- 簡潔な操作フロー（年齢層を問わない）
- 視認性の高いフォント・色使い

### 運用時の想定
- 1日あたり数千回の取引
- ピーク時（土日夜間）の負荷対応
- メンテナンス時間の最小化
- 障害時の迅速な復旧

## 12. 更新履歴

**v2.0** (2024-01-15)
- スマートフォン特化設計に全面改訂
- ゲームセンター業務特化の機能追加
- ユーザビリティを重視した画面構成

**v1.0** (2024-01-01)  
- 初版作成
- 基本的なメダル管理機能の設計